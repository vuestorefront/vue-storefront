<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Catalog module | Vue Storefront</title>
    <meta name="description" content="Headless PWA for eCommerce">
    <link rel="icon" href="/vue-storefront/favicon.png">
    
    <link rel="preload" href="/vue-storefront/assets/css/0.styles.210eb1e4.css" as="style"><link rel="preload" href="/vue-storefront/assets/js/app.a90dcb04.js" as="script"><link rel="preload" href="/vue-storefront/assets/js/52.0b359a22.js" as="script"><link rel="prefetch" href="/vue-storefront/assets/js/10.faf0f754.js"><link rel="prefetch" href="/vue-storefront/assets/js/11.0e83479f.js"><link rel="prefetch" href="/vue-storefront/assets/js/12.875ca78d.js"><link rel="prefetch" href="/vue-storefront/assets/js/13.019efa66.js"><link rel="prefetch" href="/vue-storefront/assets/js/14.45c9846c.js"><link rel="prefetch" href="/vue-storefront/assets/js/15.a06a9b6a.js"><link rel="prefetch" href="/vue-storefront/assets/js/16.d4f0cc8d.js"><link rel="prefetch" href="/vue-storefront/assets/js/17.b3a245ab.js"><link rel="prefetch" href="/vue-storefront/assets/js/18.d0f1967c.js"><link rel="prefetch" href="/vue-storefront/assets/js/19.5b6d3016.js"><link rel="prefetch" href="/vue-storefront/assets/js/2.0728fc34.js"><link rel="prefetch" href="/vue-storefront/assets/js/20.cad9392c.js"><link rel="prefetch" href="/vue-storefront/assets/js/21.c190833a.js"><link rel="prefetch" href="/vue-storefront/assets/js/22.6ed01668.js"><link rel="prefetch" href="/vue-storefront/assets/js/23.5e50dfa9.js"><link rel="prefetch" href="/vue-storefront/assets/js/24.382b3277.js"><link rel="prefetch" href="/vue-storefront/assets/js/25.8088a146.js"><link rel="prefetch" href="/vue-storefront/assets/js/26.a927eadd.js"><link rel="prefetch" href="/vue-storefront/assets/js/27.e4069b36.js"><link rel="prefetch" href="/vue-storefront/assets/js/28.e851eb0d.js"><link rel="prefetch" href="/vue-storefront/assets/js/29.fba7bc83.js"><link rel="prefetch" href="/vue-storefront/assets/js/3.6c20eaf2.js"><link rel="prefetch" href="/vue-storefront/assets/js/30.42720745.js"><link rel="prefetch" href="/vue-storefront/assets/js/31.b63e7a8a.js"><link rel="prefetch" href="/vue-storefront/assets/js/32.f0f36026.js"><link rel="prefetch" href="/vue-storefront/assets/js/33.07167a94.js"><link rel="prefetch" href="/vue-storefront/assets/js/34.9af10e93.js"><link rel="prefetch" href="/vue-storefront/assets/js/35.a5944eaa.js"><link rel="prefetch" href="/vue-storefront/assets/js/36.419904f2.js"><link rel="prefetch" href="/vue-storefront/assets/js/37.571cf7aa.js"><link rel="prefetch" href="/vue-storefront/assets/js/38.0f383805.js"><link rel="prefetch" href="/vue-storefront/assets/js/39.503f0e88.js"><link rel="prefetch" href="/vue-storefront/assets/js/4.ab19a8ea.js"><link rel="prefetch" href="/vue-storefront/assets/js/40.413af870.js"><link rel="prefetch" href="/vue-storefront/assets/js/41.cfea4452.js"><link rel="prefetch" href="/vue-storefront/assets/js/42.eaa0e98f.js"><link rel="prefetch" href="/vue-storefront/assets/js/43.c1360794.js"><link rel="prefetch" href="/vue-storefront/assets/js/44.719a0d8c.js"><link rel="prefetch" href="/vue-storefront/assets/js/45.0cb796b7.js"><link rel="prefetch" href="/vue-storefront/assets/js/46.35ffb2f7.js"><link rel="prefetch" href="/vue-storefront/assets/js/47.330b39b4.js"><link rel="prefetch" href="/vue-storefront/assets/js/48.465cf46b.js"><link rel="prefetch" href="/vue-storefront/assets/js/49.93d2f4c7.js"><link rel="prefetch" href="/vue-storefront/assets/js/5.21e825e0.js"><link rel="prefetch" href="/vue-storefront/assets/js/50.a6f4d0d2.js"><link rel="prefetch" href="/vue-storefront/assets/js/51.5c24c24b.js"><link rel="prefetch" href="/vue-storefront/assets/js/53.12e9e777.js"><link rel="prefetch" href="/vue-storefront/assets/js/54.33875a58.js"><link rel="prefetch" href="/vue-storefront/assets/js/55.b5aed389.js"><link rel="prefetch" href="/vue-storefront/assets/js/56.46039f50.js"><link rel="prefetch" href="/vue-storefront/assets/js/57.f575cecf.js"><link rel="prefetch" href="/vue-storefront/assets/js/58.bbd25bd2.js"><link rel="prefetch" href="/vue-storefront/assets/js/59.8e0771bd.js"><link rel="prefetch" href="/vue-storefront/assets/js/6.429dfe9a.js"><link rel="prefetch" href="/vue-storefront/assets/js/60.0ba25adc.js"><link rel="prefetch" href="/vue-storefront/assets/js/61.0cf70ed9.js"><link rel="prefetch" href="/vue-storefront/assets/js/62.c4984df7.js"><link rel="prefetch" href="/vue-storefront/assets/js/63.04ba9a18.js"><link rel="prefetch" href="/vue-storefront/assets/js/64.a930c910.js"><link rel="prefetch" href="/vue-storefront/assets/js/65.c58ec84b.js"><link rel="prefetch" href="/vue-storefront/assets/js/66.387ab9d3.js"><link rel="prefetch" href="/vue-storefront/assets/js/67.9d51e654.js"><link rel="prefetch" href="/vue-storefront/assets/js/68.c0c477de.js"><link rel="prefetch" href="/vue-storefront/assets/js/7.d03a3abb.js"><link rel="prefetch" href="/vue-storefront/assets/js/8.622b0aec.js"><link rel="prefetch" href="/vue-storefront/assets/js/9.ed06635e.js">
    <link rel="stylesheet" href="/vue-storefront/assets/css/0.styles.210eb1e4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-storefront/" class="home-link router-link-active"><!----> <span class="site-name">Vue Storefront</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.youtube.com/channel/UCkm1F3Cglty3CE1QwKQUhhg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YouTube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://medium.com/the-vue-storefront-journal" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Medium
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/DivanteLtd/vue-storefront" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.youtube.com/channel/UCkm1F3Cglty3CE1QwKQUhhg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  YouTube
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://medium.com/the-vue-storefront-journal" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Medium
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/DivanteLtd/vue-storefront" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vue-storefront/guide/" class="sidebar-link">About</a></li><li><a href="/vue-storefront/guide/upgrade-notes/" class="sidebar-link">Upgrade notes</a></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Installation</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/installation/linux-mac.html" class="sidebar-link">Installing on Linux/MacOS</a></li><li><a href="/vue-storefront/guide/installation/windows.html" class="sidebar-link">Installing on Windows</a></li><li><a href="/vue-storefront/guide/installation/magento.html" class="sidebar-link">Integration with Magento 2</a></li><li><a href="/vue-storefront/guide/installation/production-setup.html" class="sidebar-link">Production setup</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Basics</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/basics/project-structure.html" class="sidebar-link">Project structure</a></li><li><a href="/vue-storefront/guide/basics/configuration.html" class="sidebar-link">Configuration file explained</a></li><li><a href="/vue-storefront/guide/basics/contributing.html" class="sidebar-link">How to Contribute</a></li><li><a href="/vue-storefront/guide/basics/feature-list.html" class="sidebar-link">Feature list</a></li><li><a href="/vue-storefront/guide/basics/recipes.html" class="sidebar-link">FAQ and Recipes</a></li><li><a href="/vue-storefront/guide/basics/typescript.html" class="sidebar-link">TypeScript Action Plan</a></li><li><a href="/vue-storefront/guide/basics/graphql.html" class="sidebar-link">GraphQL Action Plan</a></li><li><a href="/vue-storefront/guide/basics/ssr-cache.html" class="sidebar-link">SSR Cache</a></li><li><a href="/vue-storefront/guide/basics/amp.html" class="sidebar-link">Google Advanced Mobile Pages</a></li><li><a href="/vue-storefront/guide/basics/e2e.html" class="sidebar-link">E2E tests</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Core and themes</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/core-themes/themes.html" class="sidebar-link">Themes in Vue Storefront</a></li><li><a href="/vue-storefront/guide/core-themes/layouts.html" class="sidebar-link">Layouts and advanced output operations</a></li><li><a href="/vue-storefront/guide/core-themes/core-components.html" class="sidebar-link">Working with core components</a></li><li><a href="/vue-storefront/guide/core-themes/ui-store.html" class="sidebar-link">Working with UI Store (Interface state)</a></li><li><a href="/vue-storefront/guide/core-themes/translations.html" class="sidebar-link">Internationalization (i18n) of Vue Storefront</a></li><li><a href="/vue-storefront/guide/core-themes/service-workers.html" class="sidebar-link">Working with Service Workers</a></li><li><a href="/vue-storefront/guide/core-themes/webpack.html" class="sidebar-link">Working with Webpack</a></li><li><a href="/vue-storefront/guide/core-themes/plugins.html" class="sidebar-link">Working with plugins</a></li><li><a href="/vue-storefront/guide/core-themes/stylesheets.html" class="sidebar-link">Working with stylesheets in 'default' theme</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Components</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/components/home-page.html" class="sidebar-link">Core Home Page</a></li><li><a href="/vue-storefront/guide/components/category-page.html" class="sidebar-link">Core Category Page</a></li><li><a href="/vue-storefront/guide/components/product.html" class="sidebar-link">Core Product Page</a></li><li><a href="/vue-storefront/guide/components/modal.html" class="sidebar-link">Modal component</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Data in Vue Storefront</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/data/data.html" class="sidebar-link">Working with data</a></li><li><a href="/vue-storefront/guide/data/elasticsearch.html" class="sidebar-link">ElasticSearch data formats</a></li><li><a href="/vue-storefront/guide/data/data-migrations.html" class="sidebar-link">Data Migrations for ElacticSearch</a></li><li><a href="/vue-storefront/guide/data/elastic-queries.html" class="sidebar-link">ElasticSearch Queries</a></li><li><a href="/vue-storefront/guide/data/database-tool.html" class="sidebar-link">Database tool</a></li><li><a href="/vue-storefront/guide/data/entity-types.html" class="sidebar-link">Data Entity Types</a></li><li><a href="/vue-storefront/guide/data/static-data.html" class="sidebar-link">Static Data support in Vue Storefront</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Extensions</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/extensions/extending-api.html" class="sidebar-link">Extending the API</a></li><li><a href="/vue-storefront/guide/extensions/extending-server-side-routes.html" class="sidebar-link">Extending Express.js server side routes</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Working with Vuex</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/vuex/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/vue-storefront/guide/vuex/product-store.html" class="sidebar-link">Product Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/category-store.html" class="sidebar-link">Category Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/cart-store.html" class="sidebar-link">Cart Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/checkout-store.html" class="sidebar-link">Checkout Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/order-store.html" class="sidebar-link">Order Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/stock-store.html" class="sidebar-link">Stock Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/user-store.html" class="sidebar-link">User Vuex Store</a></li><li><a href="/vue-storefront/guide/vuex/attribute-store.html" class="sidebar-link">Attribute Vuex Store</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Modules</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/modules/introduction.html" class="sidebar-link">Introduction</a></li><li><a href="/vue-storefront/guide/modules/cart.html" class="sidebar-link">Cart module</a></li><li><a href="/vue-storefront/guide/modules/user.html" class="sidebar-link">User Module</a></li><li><a href="/vue-storefront/guide/modules/checkout.html" class="sidebar-link">Checkout Module</a></li><li><a href="/vue-storefront/guide/modules/order.html" class="sidebar-link">Order module</a></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Integrations</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/vue-storefront/guide/integrations/integrations.html" class="sidebar-link">Existing integrations</a></li><li><a href="/vue-storefront/guide/integrations/reviews.html" class="sidebar-link">Product Reviews</a></li><li><a href="/vue-storefront/guide/integrations/payment-gateway.html" class="sidebar-link">Payment Gateway Integration</a></li><li><a href="/vue-storefront/guide/integrations/paypal-payments.html" class="sidebar-link">PayPal payments support</a></li><li><a href="/vue-storefront/guide/integrations/direct-prices-sync.html" class="sidebar-link">Direct prices sync with Magento</a></li><li><a href="/vue-storefront/guide/integrations/tier-prices-sync.html" class="sidebar-link">Tier prices sync with Magento</a></li><li><a href="/vue-storefront/guide/integrations/totals-sync.html" class="sidebar-link">Totals and cart sync with Magento</a></li><li><a href="/vue-storefront/guide/integrations/multistore.html" class="sidebar-link">Multistore Magento2 support</a></li><li><a href="/vue-storefront/guide/integrations/product-reviews.html" class="sidebar-link">Product Reviews</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="catalog-module"><a href="#catalog-module" aria-hidden="true" class="header-anchor">#</a> Catalog module</h1> <p>Catalog module is a big one combining all the logic, components and store for attribute, category, product, stock and tax operations</p> <h2 id="components"><a href="#components" aria-hidden="true" class="header-anchor">#</a> Components</h2> <h2 id="store"><a href="#store" aria-hidden="true" class="header-anchor">#</a> Store</h2> <h3 id="attribute-store"><a href="#attribute-store" aria-hidden="true" class="header-anchor">#</a> Attribute Store</h3> <p>Attribute Store is designed to handle all actions related to the attributes management</p> <h4 id="state"><a href="#state" aria-hidden="true" class="header-anchor">#</a> State</h4> <div class="language-js extra-class"><pre class="language-js"><code>  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    list_by_code<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    list_by_id<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    labels<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>As we're using the attributes dictionary for the product management in a very similar way Magento does (<a href="http://www.xpertdeveloper.com/2010/10/what-is-eav-model-in-magento/" target="_blank" rel="noopener noreferrer">EAV model<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) we're operating on the attributes, attribute types and dictionaries.</p> <p>Attributes are <strong>explicitly</strong> loaded by the user by calling the <code>attribute/list</code> method. For example, when you're going to work with customizable attributes of the product or to work on variants you need to prefetch the attributes metadata:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'attribute/list'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  filterValues<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  filterField<span class="token punctuation">:</span> <span class="token string">'is_user_defined'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>This is example from <a href="https://github.com/DivanteLtd/vue-storefront/blob/c954b96f6633a201e10bed1d2e4c0def1aeb3071/core/pages/Compare.vue" target="_blank" rel="noopener noreferrer">product compare feature<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>The attribute state data:</p> <ul><li><code>list_by_code</code> - this is a dictionary where you can get the specific attribute by just accessing the <code>list_by_code['color']</code> etc.</li> <li><code>list_by_id</code> - this is a dictionary where you can get the specific attribute by just accessing the <code>list_by_id[123]</code> etc.</li> <li><code>labels</code> - the preloaded labels of attribute values (the V in EAV)</li></ul> <h4 id="actions"><a href="#actions" aria-hidden="true" class="header-anchor">#</a> Actions</h4> <p>The attribute store provides following public actions:</p> <p><strong><code>list (context, { filterValues = null, filterField = 'attribute_code', size = 150, start = 0 })</code></strong></p> <p>This method is used to load the attributes metadata. <code>filterValues</code> is an array of multiple values like: <code>['color', 'size']</code> and the <code>filterField</code> is the attribute field to compare the <code>filterValues</code> against. Usually is a <code>attribute_code</code> or <code>attribute_id</code>. The <code>size</code> and <code>start</code> are just used to limit the list.</p> <h4 id="getters"><a href="#getters" aria-hidden="true" class="header-anchor">#</a> Getters</h4> <p>All state members should have been accessed only by getters. Please take a look at the state reference for data formats</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  attributeListByCode<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>list_by_code<span class="token punctuation">,</span>
  attributeListById<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>list_by_id<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="category-store"><a href="#category-store" aria-hidden="true" class="header-anchor">#</a> Category Store</h3> <p>Category Store is designed to handle all actions related the categories data.</p> <p>This module works pretty tightly with Elastic Search and operates on the <a href="/vue-storefront/guide/data/elasticsearch.html">Product data format</a></p> <h4 id="state-2"><a href="#state-2" aria-hidden="true" class="header-anchor">#</a> State</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  current<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  filters<span class="token punctuation">:</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> price<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  breadcrumbs<span class="token punctuation">:</span> <span class="token punctuation">{</span> routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  current_path<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// list of categories from root to current</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Category state is generally populated by just two methods <a href="https://github.com/DivanteLtd/vue-storefront/blob/06fbb89a5a8bc2c607847f65a7bca9ad54ed7146/core/store/modules/category.js#L38" target="_blank" rel="noopener noreferrer">list<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/DivanteLtd/vue-storefront/blob/06fbb89a5a8bc2c607847f65a7bca9ad54ed7146/core/store/modules/category.js#L70" target="_blank" rel="noopener noreferrer">single<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and cleared to the defaults by <a href="https://github.com/DivanteLtd/vue-storefront/blob/06fbb89a5a8bc2c607847f65a7bca9ad54ed7146/core/store/modules/category.js#L28" target="_blank" rel="noopener noreferrer">reset<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="tip custom-block"><p class="custom-block-title">Note</p> <p>The action <code>category/single</code> uses <code>localForage</code> cache only - no ElasticSearch data store directly; because of this optimization, please do download the categories list by dispatching <code>category/list</code> at first.</p></div> <p>The category state data:</p> <ul><li><code>breadcrumbs</code> - this is the list of routes used by the <a href="https://github.com/DivanteLtd/vue-storefront/blob/master/core/components/Breadcrumbs.js" target="_blank" rel="noopener noreferrer">Breadcrumbs component<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>current</code> - this is the current category object,</li> <li><code>filters</code> is a current state of the category filters - dictionary of selected variant attributes; for example it contains dictionary of selected product attributes:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">24</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Please note, that we're using the Magento like EAV attributes structure - so the values here are an attribute value indexes not the values itself. Please take a look at <a href="/vue-storefront/guide/data/elasticsearch.html">Data formats</a> for a reference</p> <ul><li><code>current_path</code> - this is the list of category objects: from current category to the top level root,</li></ul> <h4 id="events"><a href="#events" aria-hidden="true" class="header-anchor">#</a> Events</h4> <p>The following events are published from <code>category</code> store:</p> <ul><li><code>EventBus.$emit('category-after-single', { category: mainCategory })</code> - from <a href="https://github.com/DivanteLtd/vue-storefront/blob/06fbb89a5a8bc2c607847f65a7bca9ad54ed7146/core/store/modules/category.js#L70" target="_blank" rel="noopener noreferrer">category/single<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> after single category is loaded,</li> <li><code>EventBus.$emit('category-after-current', { category: category })</code> - after current category has been changed - this is subsequent call of <code>category/single</code> action,</li> <li><code>EventBus.$emit('category-after-reset', { })</code> - after category has been reset (for example in the process of moving from one category page to another)</li> <li><code>EventBus.$emit('category-after-list', { query: qrObj, sort: sort, size: size, start: start, list: resp })</code> - this event emits the current category list as it's returned by <code>category/list</code>.</li></ul> <h4 id="actions-2"><a href="#actions-2" aria-hidden="true" class="header-anchor">#</a> Actions</h4> <p>The cart store provides following public actions:</p> <p><strong><code>list (context, { parent = null, onlyActive = true, onlyNotEmpty = false, size = 4000, start = 0, sort = 'position:asc' })</code></strong></p> <p>This is the key method to load the category list. It returns the <code>Promise</code> that contains the product list object. This method should be used everywhere you need to get products data.</p> <p><strong><code>single (context, { key, value, setCurrentCategory = true, setCurrentCategoryPath = true })</code></strong></p> <p>This method gets the single category from <code>localForage</code>.</p> <div class="warning custom-block"><p class="custom-block-title">Important</p> <p>To make this method work you should call <code>category/list</code> before. This category works only on localFotage and cannot access ElasticSearch directly</p></div> <div class="warning custom-block"><p class="custom-block-title">Important</p> <p>This method synchronizes products for offline usage by: storing the whole query results object into <code>localForage</code> and by caching each category individually (to be used on the Product page for example)</p></div> <p>This method emits category list as <code>EventBus.$emit('category-after-list', { query: qrObj, sort: sort, size: size, start: start, list: resp })</code></p> <ul><li><p><code>parent</code> - <code>category</code> object to load the subcategories only</p></li> <li><p><code>start</code>, <code>size</code> - both parameters are used for paging; start is the starting index; size is a page size</p></li> <li><p><code>onlyActive</code> - (bool) load only the categories marked as active in CMS (for example in Magento)</p></li> <li><p><code>sort</code> - category attribute using to sort, this field must be mapped in ElasticSearch as a numeric field</p></li> <li><p><code>onlyNotEmpty</code> - (bool) load only the categories that contain any products</p></li></ul> <h4 id="getters-2"><a href="#getters-2" aria-hidden="true" class="header-anchor">#</a> Getters</h4> <p>All state members should have been accessed only by getters. Please take a look at the state reference for data formats</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
  current<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>current<span class="token punctuation">,</span>
  list<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>list<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="product-store"><a href="#product-store" aria-hidden="true" class="header-anchor">#</a> Product Store</h3> <p>Product Store is designed to handle all actions related the product data. It's responsible for loading the list of products or a single product as well as configuring the configurable products and managing the products attachments.</p> <p>This module works pretty tightly with Elastic Search and operates on the <a href="/vue-storefront/guide/data/elasticsearch.html">Product data format</a></p> <h4 id="state-3"><a href="#state-3" aria-hidden="true" class="header-anchor">#</a> State</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span>
  breadcrumbs<span class="token punctuation">:</span> <span class="token punctuation">{</span> routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  current<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// shown product</span>
  current_options<span class="token punctuation">:</span> <span class="token punctuation">{</span> color<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  current_configuration<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  parent<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  original<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// default, not configured product</span>
  related<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>Product state is generally populated by just two methods <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L395" target="_blank" rel="noopener noreferrer">list<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L428" target="_blank" rel="noopener noreferrer">single<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and cleared to the defaults by <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L215" target="_blank" rel="noopener noreferrer">reset<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>The product state data:</p> <ul><li><code>breadcrumbs</code> - this is the list of routes used by the <a href="https://github.com/DivanteLtd/vue-storefront/blob/master/core/components/Breadcrumbs.js" target="_blank" rel="noopener noreferrer">Breadcrumbs component<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>current</code> - this is the product object with selected <code>configurable_children</code> variant - so it's the base product with attributes overriden by the values from selected <code>configurable_children</code> variant; it's used on <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/pages/Product.vue#L203" target="_blank" rel="noopener noreferrer">Product.vue page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> this is the product which is added to the cart after &quot;Add to cart&quot;</li> <li><code>current_options</code> - it's a list used to populate the variant selector on the <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/themes/default/pages/Product.vue#L56" target="_blank" rel="noopener noreferrer">Product.vue page<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> it contains dictionary of attributes x possible attribute values and labels and it's populated by <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L344" target="_blank" rel="noopener noreferrer">setupVariants<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> based on the <code>configurable_children</code> property</li> <li><code>current_configuration</code> is a current product configuration - dictionary of selected variant attributes; for example it contains dictionary of selected product attributes:</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;color&quot;</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">24</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Please note, that we're using the Magento like EAV attributes structure - so the values here are an attribute value indexes not the values itself. Please take a look at <a href="/vue-storefront/guide/data/elasticsearch.html">Data formats</a> for a reference</p> <ul><li><code>parent</code> - if the current product is a <code>type_id=&quot;single&quot;</code> then in this variable the parent, <code>configurable</code> product is stored. This data is populated only on <code>Product.vue</code> by <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L323" target="_blank" rel="noopener noreferrer">checkConfigurableParent<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>list</code> - this is an Array of products loaded by <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L395" target="_blank" rel="noopener noreferrer">list<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><code>original</code> - used only for <code>configurable</code> products; this is the base product with no variant selected</li> <li><code>related</code> - this is dictionary of related products; set outside this store (for <a href="https://github.com/DivanteLtd/vue-storefront/blob/master/src/themes/default/components/core/blocks/Product/Related.vue" target="_blank" rel="noopener noreferrer">example here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>) by calling and <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L528" target="_blank" rel="noopener noreferrer">related action<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul> <h4 id="events-2"><a href="#events-2" aria-hidden="true" class="header-anchor">#</a> Events</h4> <p>The following events are published from <code>product</code> store:</p> <ul><li><code>EventBus.$emit('product-after-priceupdate', product)</code> - from <a href="https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L33" target="_blank" rel="noopener noreferrer">syncProductPrice<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> after product price is synced with Magento;</li> <li><code>EventBus.$emit('product-after-configure', { product: product, configuration: configuration, selectedVariant: selectedVariant })</code> from <code>configureProductAsync</code> (called by <code>product/configure</code> action after <code>product/single</code>). This event provides the information about selected product variant on the product page</li> <li><code>EventBus.$emit('product-after-list', { query: query, start: start, size: size, sort: sort, entityType: entityType, result: resp })</code> - this event emits the current product list as it's returned by <code>product/list</code> providing the current filters etc. You can mark specific product list identifier by setting <code>meta</code> property; it's important because on single page this event can be executed multiple time for each individual block of products</li> <li><code>EventBus.$emit('product-after-single', { key: key, options: options, product: cachedProduct })</code> - after single product has been loaded (invoked by <code>product/single</code> action)</li> <li><code>EventBus.$emit('product-after-related', { key: key, items: items })</code> - invoked whenever the related products block is set for the current product; the key is the name of the related block and items are related products</li> <li><code>EventBus.$emit('product-after-original', { original: product })</code> - invoked by <code>product/single</code> whenever product has been loaded</li> <li><code>EventBus.$emit('product-after-parent', { parent: product })</code> - invoked externally by <code>product/checkConfigurableParent</code> provides the current single product configurable parent</li> <li><code>EventBus.$emit('product-after-reset', { })</code> - after product has been reseted (for example in the process of moving from one product page to another)</li></ul> <h4 id="actions-3"><a href="#actions-3" aria-hidden="true" class="header-anchor">#</a> Actions</h4> <p>The product store provides following public actions:</p> <p><strong><code>setupBreadcrumbs (context, { product })</code></strong></p> <p>This method is in charge of setting <code>state.breadcrumbs</code> to be used on <code>Product.vue</code> page. It's called from <code>Product.vue:fetchData</code>. The <code>product</code> parameter is a <a href="/vue-storefront/guide/data/elasticsearch.html">ElasticSearch product object</a></p> <p><strong><code>syncPlatformPricesOver(context, { skus })</code></strong></p> <p>When the config option <code>products.alwaysSyncPlatformPricesOver</code> is on, Vue Storefront will request the current product prices each time when <code>product/single</code> or <code>product/list</code> action is dispatched. It's called exclusively by these actions and shouldn't be called manually. This method calls <code>vue-storefront-api</code> proxy to get the current prices from Magento or any other backend CMS.</p> <p><code>skus</code> - this is an Array with product SKU's to be synchronized</p> <p><strong><code>setupAssociated (context, { product })</code></strong></p> <p>This method is called as a subsequent call of <code>Product.vue:fetchData</code> or <code>product/list</code> action. It's used to get the child products of <code>grouped</code> or <code>bundle</code> types of products.</p> <p><strong><code>checkConfigurableParent (context, {product})</code></strong></p> <p>This method is called by <code>Product.vue:fetchData</code> to check if current, simple product has got an configurable parent. If so the redirect is being made to the parent product. It's a fix for <a href="https://github.com/DivanteLtd/vue-storefront/issues/508" target="_blank" rel="noopener noreferrer">#508<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><strong><code>setupVariants (context, { product })</code></strong></p> <p>This method is subsequently called by <code>Product.vue:fetchData</code> to load all configurable attributes defined in <code>product.configurable_options</code> and then to populate <code>state.current_configuration</code> and <code>state.current_options</code>. The main usage of this action is to prepare product to be configured by the user on the product page and to display the product configurator UI properly</p> <p><strong><code>list (context, { query, start = 0, size = 50, entityType = 'product', sort = '', cacheByKey = 'sku', prefetchGroupProducts = true, updateState = true, meta = {} })</code></strong></p> <p>This is the key method to load the product list. It returns the <code>Promise</code> that contains the product list object. This method should be used everywhere you need to get products data. When <code>config.tax.calculateServerSide=false</code> this method runs product taxes calculator and synchronizes prices with Magento if it's required.</p> <p>This method emits product list as <code>EventBus.$emit('product-after-list', { query: query, start: start, size: size, sort: sort, entityType: entityType, meta: meta, result: resp })</code></p> <div class="warning custom-block"><p class="custom-block-title">Important</p> <p>This method synchronizes products for offline usage by: storing the whole query results object into <code>localForage</code> and by caching each product individually (to be used on the Product page for example)</p></div> <ul><li><p><code>query</code> - this is the <code>bodybuilder</code> ElasticSearch query (please check <code>bodybuilder</code> package or for example <code>Home.vue</code> for a reference how to use it)</p></li> <li><p><code>start</code>, <code>size</code> - both parameters are used for paging; start is the starting index; size is a page size</p></li> <li><p><code>entityType</code> - by default it's of course set to <code>product</code> and it's mapped to ElasticSearch entity class</p></li> <li><p><code>sort</code> - product attribute using to sort, this field must be mapped in ElasticSearch as a numeric field</p></li> <li><p><code>prefetchGroupProducts</code> - by default it's set to true and causes <code>setupAssociated</code> action to be dispatched to get all the associated products</p></li> <li><p><code>updateState</code> - if you set this to false, the <code>state.list</code> will not be updated - just the products will be returned</p></li> <li><p><code>meta</code> - this is an optional attribute which is returned with <code>product-after-list</code> event; it can be used for example to mark any specific ES call.</p></li></ul> <p><strong><code>single (context, { options, setCurrentProduct = true, selectDefaultVariant = true, key = 'sku' })</code></strong></p> <p>This method subsequently dispatched <code>product/list</code> action to get the products and synchronize the taxes/prices. When the product has been recently downloaded via <code>product/list</code> this method will return the cached version from <code>localForage</code> - but update the cache anyway.</p> <p><strong><code>configure (context, { product = null, configuration, selectDefaultVariant = true })</code></strong></p> <p>This action is used to configure the <code>configurable</code> product with specified attributes. It gets the <code>configuration</code> object which should have the following format: <code>{ attribute_code: attribute_value_id }</code> and finds the <code>product.configurable_children</code> item which complies to this configuration. Then it merges this specific <code>configurable_child</code> with product itself - for example setting the product.price to the configurable price, color, size etc. The method is used on: <code>Product.vue</code> page for allowing user to select color, size etc. The second usage for it is on <code>Category.vue</code> page - after user selects some filters, the resulting products are configured to display the proper images (related to selected color and size) and prices.</p> <p>If <code>selectDefaultVariant</code> is set to true (default), the <code>state.current</code> will be altered with configured product.</p> <p><strong><code>setCurrent (context, productVariant)</code></strong></p> <p>Auxiliary method just to set <code>state.current</code> to productVariant</p> <p><strong><code>setOriginal (context, originalProduct)</code></strong></p> <p>Auxiliary method just to set <code>state.original</code> to originalProduct</p> <p><strong><code>related (context, { key = 'related-products', items })</code></strong></p> <p>Alters <code>state.related</code> dictionary to set specific list of related products to be displayed on <code>Product.vue</code> page (<code>RelatedProducts</code> component is used for this)</p> <h4 id="getters-3"><a href="#getters-3" aria-hidden="true" class="header-anchor">#</a> Getters</h4> <p>All state members should have been accessed only by getters. Please take a look at the state reference for data formats</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">{</span>
  productParent<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>parent<span class="token punctuation">,</span>
  productCurrent<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>current<span class="token punctuation">,</span>
  currentConfiguration<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>current_configuration<span class="token punctuation">,</span>
  productOriginal<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>original<span class="token punctuation">,</span>
  currentOptions<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>current_options<span class="token punctuation">,</span>
  breadcrumbs<span class="token punctuation">:</span> state <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>breadcrumbs<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="stock-store"><a href="#stock-store" aria-hidden="true" class="header-anchor">#</a> Stock Store</h3> <p>Stock Store is designed to handle stock quantity checks.</p> <h4 id="events-3"><a href="#events-3" aria-hidden="true" class="header-anchor">#</a> Events</h4> <p>The following events are published from <code>stock</code> store:</p> <ul><li><code>stock-after-check</code> - emitted just after the stock item has been received from eCommerce backend / Magento</li></ul> <h4 id="actions-4"><a href="#actions-4" aria-hidden="true" class="header-anchor">#</a> Actions</h4> <p>The cart store provides following public actions:</p> <p><strong><code>check (context, { product, qty = 1 })</code></strong></p> <p>Check if the <code>product</code> can be added to the shopping cart with a given quantity.</p> <p>The resulting promise is expanded to the following object:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  qty<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  status<span class="token punctuation">:</span> <span class="token string">'ok'</span><span class="token punctuation">,</span> <span class="token comment">// another option is: 'out_of_stock'</span>
  onlineCheckTaskId<span class="token punctuation">:</span> <span class="token number">14241</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="tax-store"><a href="#tax-store" aria-hidden="true" class="header-anchor">#</a> Tax Store</h3> <h2 id="helpers"><a href="#helpers" aria-hidden="true" class="header-anchor">#</a> Helpers</h2> <h3 id="optionlabel"><a href="#optionlabel" aria-hidden="true" class="header-anchor">#</a> optionLabel</h3> <p>Used to get the Label for specific <code>optionId</code>. For example, when the user filters products and uses the 165 attribute_value we can call <code>optionLabel( { attributeKey: 'color', optionId: 165 })</code> to get back 'Red' label.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/DivanteLtd/vue-storefront/edit/master/docs/guide/modules/catalog.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div></div>
    <script src="/vue-storefront/assets/js/52.0b359a22.js" defer></script><script src="/vue-storefront/assets/js/app.a90dcb04.js" defer></script>
  </body>
</html>
