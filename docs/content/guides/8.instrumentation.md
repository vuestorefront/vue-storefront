In case if you are extending your contract with Alokai and you have joined us in 2025 or before, you may be required to install Alokai instrumentation as part of your storefront.

Here is a guide on how to do this, depending on your current situation.

# Storefront
::tabs{:titles='["Next.js App Router", "Nuxt 3", "Next.js Page Router", "Nuxt 2"]'}

#tab-1
If you use `@vue-storefront/next` newer or equal to `6.1.0`, then no action is required.

#tab-2
If you use `@vue-storefront/nuxt` newer or equal to `0.2.1`, then no action is required.

#tab-3
Go to `pages/_app.tsx and add AlokaiInstrumentation component inside the SdkProvider.

```diff
import { AlokaiInstrumentation } from '@alokai/instrumentation-next-component';

...
  return (
    
    <SdkProvider>
+       <AlokaiInstrumentation />
    ...
  </SdkProvider>
)
```

#tab-4

In your `nuxt.config.js` add the following to the `buildModules` array:

```diff 
  buildModules: [
    '@nuxtjs/composition-api/module',
    '@nuxt/typescript-build',
    '@nuxtjs/style-resources',
    '@nuxtjs/pwa',
+   '@alokai/instrumentation-nuxt2-module',
```


# Middleware
If you use `@alokai/connect` newer or equal to `1.1.0`, then no action is required.
Otherwise install the package `@alokai/instrumentation` and add the `traceExtension` to the extensions array of your e-commerce integration.


```diff
+ import { traceExtension } from '@alokai/instrumentation'


export const config = {
  location: 'name-of-your-integration-package',
  configuration: {
    ...
  },

  extensions: (extensions: ApiClientExtension[]) => [
    ...extensions,
+   traceExtension,
    unifiedApiExtension,
    cdnExtension,
    configSwitcherExtension,
  ],
} satisfies Integration<Config>;
```

# Verifying that it works
To verify that all works as intended, please contact our support.