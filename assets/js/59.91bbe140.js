(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{206:function(t,e,s){"use strict";s.r(e);var r=s(0),a=Object(r.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("Product Store is designed to handle all actions related the product data. It's responsible for loading the list of products or a single product as well as configuring the configurable products and managing the products attachments.")]),t._v(" "),s("p",[t._v("This module works pretty tightly with Elastic Search and operates on the "),s("router-link",{attrs:{to:"./../data/elasticsearch.html"}},[t._v("Product data format")])],1),t._v(" "),t._m(1),t._v(" "),t._m(2),s("p",[t._v("Product state is generally populated by just two methods "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L395",target:"_blank",rel:"noopener noreferrer"}},[t._v("list"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L428",target:"_blank",rel:"noopener noreferrer"}},[t._v("single"),s("OutboundLink")],1),t._v(" and cleared to the defaults by "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L215",target:"_blank",rel:"noopener noreferrer"}},[t._v("reset"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("The product state data:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("breadcrumbs")]),t._v(" - this is the list of routes used by the "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/core/components/Breadcrumbs.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Breadcrumbs component"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("code",[t._v("current")]),t._v(" - this is the product object with selected "),s("code",[t._v("configurable_children")]),t._v(" variant - so it's the base product with attributes overriden by the values from selected "),s("code",[t._v("configurable_children")]),t._v(" variant; it's used on "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/pages/Product.vue#L203",target:"_blank",rel:"noopener noreferrer"}},[t._v("Product.vue page"),s("OutboundLink")],1),t._v(' this is the product which is added to the cart after "Add to cart"')]),t._v(" "),s("li",[s("code",[t._v("current_options")]),t._v(" - it's a list used to populate the variant selector on the "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/themes/default/pages/Product.vue#L56",target:"_blank",rel:"noopener noreferrer"}},[t._v("Product.vue page"),s("OutboundLink")],1),t._v(" it contains dictionary of attributes x possible attribute values and labels and it's populated by "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L344",target:"_blank",rel:"noopener noreferrer"}},[t._v("setupVariants"),s("OutboundLink")],1),t._v(" based on the "),s("code",[t._v("configurable_children")]),t._v(" property")]),t._v(" "),t._m(3)]),t._v(" "),t._m(4),s("p",[t._v("Please note, that we're using the Magento like EAV attributes structure - so the values here are an attribute value indexes not the values itself. Please take a look at "),s("router-link",{attrs:{to:"./../data/elasticsearch.html"}},[t._v("Data formats")]),t._v(" for a reference")],1),t._v(" "),s("ul",[s("li",[s("code",[t._v("parent")]),t._v(" - if the current product is a "),s("code",[t._v('type_id="single"')]),t._v(" then in this variable the parent, "),s("code",[t._v("configurable")]),t._v(" product is stored. This data is populated only on "),s("code",[t._v("Product.vue")]),t._v(" by "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L323",target:"_blank",rel:"noopener noreferrer"}},[t._v("checkConfigurableParent"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("code",[t._v("list")]),t._v(" - this is an Array of products loaded by "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L395",target:"_blank",rel:"noopener noreferrer"}},[t._v("list"),s("OutboundLink")],1)]),t._v(" "),t._m(5),t._v(" "),s("li",[s("code",[t._v("related")]),t._v(" - this is dictionary of related products; set outside this store (for "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/master/src/themes/default/components/core/blocks/Product/Related.vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("example here"),s("OutboundLink")],1),t._v(") by calling and "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L528",target:"_blank",rel:"noopener noreferrer"}},[t._v("related action"),s("OutboundLink")],1)])]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),s("ul",[s("li",[s("code",[t._v("EventBus.$emit('product-after-priceupdate', product)")]),t._v(" - from "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/blob/bd559f1baad7cd392bc5bae7b935a60484e2e6e5/src/store/modules/product.js#L33",target:"_blank",rel:"noopener noreferrer"}},[t._v("syncProductPrice"),s("OutboundLink")],1),t._v(" after product price is synced with Magento;")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14)]),t._v(" "),t._m(15),t._v(" "),s("p",[t._v("The product store provides following public actions:")]),t._v(" "),t._m(16),t._v(" "),s("p",[t._v("This method is in charge of setting "),s("code",[t._v("state.breadcrumbs")]),t._v(" to be used on "),s("code",[t._v("Product.vue")]),t._v(" page. It's called from "),s("code",[t._v("Product.vue:fetchData")]),t._v(". The "),s("code",[t._v("product")]),t._v(" parameter is a "),s("router-link",{attrs:{to:"./../data/elasticsearch.html"}},[t._v("ElasticSearch product object")])],1),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),s("p",[t._v("This method is called by "),s("code",[t._v("Product.vue:fetchData")]),t._v(" to check if current, simple product has got an configurable parent. If so the redirect is being made to the parent product. It's a fix for "),s("a",{attrs:{href:"https://github.com/DivanteLtd/vue-storefront/issues/508",target:"_blank",rel:"noopener noreferrer"}},[t._v("#508"),s("OutboundLink")],1)]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),t._m(41),t._v(" "),s("p",[t._v("All state members should have been accessed only by getters. Please take a look at the state reference for data formats")]),t._v(" "),t._m(42)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"product-vuex-store"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#product-vuex-store","aria-hidden":"true"}},[this._v("#")]),this._v(" Product Vuex Store")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#state","aria-hidden":"true"}},[this._v("#")]),this._v(" State")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  breadcrumbs"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" routes"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  current"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// shown product")]),t._v("\n  current_options"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" color"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" size"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  current_configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  parent"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  list"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  original"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("null")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// default, not configured product")]),t._v("\n  related"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("current_configuration")]),this._v(" is a current product configuration - dictionary of selected variant attributes; for example it contains dictionary of selected product attributes:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"color"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("123")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v('"size"')]),s("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("24")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("original")]),this._v(" - used only for "),e("code",[this._v("configurable")]),this._v(" products; this is the base product with no variant selected")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"events"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#events","aria-hidden":"true"}},[this._v("#")]),this._v(" Events")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The following events are published from "),e("code",[this._v("product")]),this._v(" store:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("code",[t._v("EventBus.$emit('product-after-configure', { product: product, configuration: configuration, selectedVariant: selectedVariant })")]),t._v(" from "),s("code",[t._v("configureProductAsync")]),t._v(" (called by "),s("code",[t._v("product/configure")]),t._v(" action after "),s("code",[t._v("product/single")]),t._v("). This event provides the information about selected product variant on the product page")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("EventBus.$emit('product-after-list', { query: query, start: start, size: size, sort: sort, entityType: entityType, result: resp })")]),this._v(" - this event emits the current product list as it's returned by "),e("code",[this._v("product/list")]),this._v(" providing the current filters etc. You can mark specific product list identifier by setting "),e("code",[this._v("meta")]),this._v(" property; it's important because on single page this event can be executed multiple time for each individual block of products")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("EventBus.$emit('product-after-single', { key: key, options: options, product: cachedProduct })")]),this._v(" - after single product has been loaded (invoked by "),e("code",[this._v("product/single")]),this._v(" action)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("EventBus.$emit('product-after-related', { key: key, items: items })")]),this._v(" - invoked whenever the related products block is set for the current product; the key is the name of the related block and items are related products")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("EventBus.$emit('product-after-original', { original: product })")]),this._v(" - invoked by "),e("code",[this._v("product/single")]),this._v(" whenever product has been loaded")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("EventBus.$emit('product-after-parent', { parent: product })")]),this._v(" - invoked externally by "),e("code",[this._v("product/checkConfigurableParent")]),this._v(" provides the current single product configurable parent")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("code",[this._v("EventBus.$emit('product-after-reset', { })")]),this._v(" - after product has been reseted (for example in the process of moving from one product page to another)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#actions","aria-hidden":"true"}},[this._v("#")]),this._v(" Actions")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"setupbreadcrumbs-context-product"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setupbreadcrumbs-context-product","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("setupBreadcrumbs (context, { product })")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"syncplatformpricesover-context-skus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#syncplatformpricesover-context-skus","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("syncPlatformPricesOver(context, { skus })")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("When the config option "),s("code",[t._v("products.alwaysSyncPlatformPricesOver")]),t._v(" is on, Vue Storefront will request the current product prices each time when "),s("code",[t._v("product/single")]),t._v(" or "),s("code",[t._v("product/list")]),t._v(" action is dispatched. It's called exclusively by these actions and shouldn't be called manually. This method calls "),s("code",[t._v("vue-storefront-api")]),t._v(" proxy to get the current prices from Magento or any other backend CMS.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("code",[this._v("skus")]),this._v(" - this is an Array with product SKU's to be synchronized")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"setupassociated-context-product"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setupassociated-context-product","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("setupAssociated (context, { product })")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("This method is called as a subsequent call of "),s("code",[t._v("Product.vue:fetchData")]),t._v(" or "),s("code",[t._v("product/list")]),t._v(" action. It's used to get the child products of "),s("code",[t._v("grouped")]),t._v(" or "),s("code",[t._v("bundle")]),t._v(" types of products.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"checkconfigurableparent-context-product"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#checkconfigurableparent-context-product","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("checkConfigurableParent (context, {product})")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"setupvariants-context-product"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setupvariants-context-product","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("setupVariants (context, { product })")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("This method is subsequently called by "),s("code",[t._v("Product.vue:fetchData")]),t._v(" to load all configurable attributes defined in "),s("code",[t._v("product.configurable_options")]),t._v(" and then to populate "),s("code",[t._v("state.current_configuration")]),t._v(" and "),s("code",[t._v("state.current_options")]),t._v(". The main usage of this action is to prepare product to be configured by the user on the product page and to display the product configurator UI properly")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"list-context-query-start-0-size-50-entitytype-product-sort-cachebykey-sku-prefetchgroupproducts-true-updatestate-true-meta"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list-context-query-start-0-size-50-entitytype-product-sort-cachebykey-sku-prefetchgroupproducts-true-updatestate-true-meta","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("list (context, { query, start = 0, size = 50, entityType = 'product', sort = '', cacheByKey = 'sku', prefetchGroupProducts = true, updateState = true, meta = {} })")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This is the key method to load the product list. It returns the "),e("code",[this._v("Promise")]),this._v(" that contains the product list object. This method should be used everywhere you need to get products data. When "),e("code",[this._v("config.tax.calculateServerSide=false")]),this._v(" this method runs product taxes calculator and synchronizes prices with Magento if it's required.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("strong",[this._v("Events")]),this._v(": this method emits product list as "),e("code",[this._v("EventBus.$emit('product-after-list', { query: query, start: start, size: size, sort: sort, entityType: entityType, meta: meta, result: resp })")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"warning custom-block"},[e("p",{staticClass:"custom-block-title"},[this._v("Important")]),this._v(" "),e("p",[this._v("This method synchronizes products for offline usage by: storing the whole query results object into "),e("code",[this._v("localForage")]),this._v(" and by caching each product individually (to be used on the Product page for example)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("p",[s("code",[t._v("query")]),t._v(" - this is the "),s("code",[t._v("bodybuilder")]),t._v(" ElasticSearch query (please check "),s("code",[t._v("bodybuilder")]),t._v(" package or for example "),s("code",[t._v("Home.vue")]),t._v(" for a reference how to use it)")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("start")]),t._v(", "),s("code",[t._v("size")]),t._v(" - both parameters are used for paging; start is the starting index; size is a page size")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("entityType")]),t._v(" - by default it's of course set to "),s("code",[t._v("product")]),t._v(" and it's mapped to ElasticSearch entity class")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("sort")]),t._v(" - product attribute using to sort, this field must be mapped in ElasticSearch as a numeric field")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("prefetchGroupProducts")]),t._v(" - by default it's set to true and causes "),s("code",[t._v("setupAssociated")]),t._v(" action to be dispatched to get all the associated products")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("updateState")]),t._v(" - if you set this to false, the "),s("code",[t._v("state.list")]),t._v(" will not be updated - just the products will be returned")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("meta")]),t._v(" - this is an optional attribute which is returned with "),s("code",[t._v("product-after-list")]),t._v(" event; it can be used for example to mark any specific ES call.")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"single-context-options-setcurrentproduct-true-selectdefaultvariant-true-key-sku"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#single-context-options-setcurrentproduct-true-selectdefaultvariant-true-key-sku","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("single (context, { options, setCurrentProduct = true, selectDefaultVariant = true, key = 'sku' })")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This method subsequently dispatched "),e("code",[this._v("product/list")]),this._v(" action to get the products and synchronize the taxes/prices. When the product has been recently downloaded via "),e("code",[this._v("product/list")]),this._v(" this method will return the cached version from "),e("code",[this._v("localForage")]),this._v(" - but update the cache anyway.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"configure-context-product-null-configuration-selectdefaultvariant-true"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configure-context-product-null-configuration-selectdefaultvariant-true","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("configure (context, { product = null, configuration, selectDefaultVariant = true })")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("This action is used to configure the "),s("code",[t._v("configurable")]),t._v(" product with specified attributes. It gets the "),s("code",[t._v("configuration")]),t._v(" object which should have the following format: "),s("code",[t._v("{ attribute_code: attribute_value_id }")]),t._v(" and finds the "),s("code",[t._v("product.configurable_children")]),t._v(" item which complies to this configuration. Then it merges this specific "),s("code",[t._v("configurable_child")]),t._v(" with product itself - for example setting the product.price to the configurable price, color, size etc. The method is used on: "),s("code",[t._v("Product.vue")]),t._v(" page for allowing user to select color, size etc. The second usage for it is on "),s("code",[t._v("Category.vue")]),t._v(" page - after user selects some filters, the resulting products are configured to display the proper images (related to selected color and size) and prices.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("If "),e("code",[this._v("selectDefaultVariant")]),this._v(" is set to true (default), the "),e("code",[this._v("state.current")]),this._v(" will be altered with configured product.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"setcurrent-context-productvariant"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setcurrent-context-productvariant","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("setCurrent (context, productVariant)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Auxiliary method just to set "),e("code",[this._v("state.current")]),this._v(" to productVariant")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"setoriginal-context-originalproduct"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#setoriginal-context-originalproduct","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("setOriginal (context, originalProduct)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Auxiliary method just to set "),e("code",[this._v("state.original")]),this._v(" to originalProduct")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"related-context-key-related-products-items"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#related-context-key-related-products-items","aria-hidden":"true"}},[this._v("#")]),this._v(" "),e("code",[this._v("related (context, { key = 'related-products', items })")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Alters "),e("code",[this._v("state.related")]),this._v(" dictionary to set specific list of related products to be displayed on "),e("code",[this._v("Product.vue")]),this._v(" page ("),e("code",[this._v("RelatedProducts")]),this._v(" component is used for this)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"getters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getters","aria-hidden":"true"}},[this._v("#")]),this._v(" Getters")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" getters "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  productParent"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  productCurrent"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  currentConfiguration"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current_configuration"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  productOriginal"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("original"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  currentOptions"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current_options"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  breadcrumbs"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("breadcrumbs"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])}],!1,null,null,null);a.options.__file="product-store.md";e.default=a.exports}}]);