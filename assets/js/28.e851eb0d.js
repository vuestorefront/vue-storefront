(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{182:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("Vue Storefront follows technique popularized by "),s("a",{attrs:{href:"https://github.com/zeit/next.js/",target:"_blank",rel:"noopener noreferrer"}},[t._v("next.js"),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://nuxtjs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nuxt"),s("OutboundLink")],1),t._v(" for extending webpack config. For each theme you can configure "),s("code",[t._v("webpack.config.js")]),t._v(" file that will allow you to have an access to base configuration and customize it for your needs without changing core build files.")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),s("p",[t._v("This file should export a function that returns a complete configuration.")]),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"working-with-webpack"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#working-with-webpack","aria-hidden":"true"}},[this._v("#")]),this._v(" Working with Webpack")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To make Vue Storefront so fast and developer friendly we use webpack under the hood. We need it to transpile assets, handle "),e("code",[this._v(".vue")]),this._v(" files, process all styles and make our code a little bit more maintainable with linting provided by eslint. With that you don't need to worry about configuring it by hand to start working on Vue Storefront or to build your own theme for it. However, when you want to tweak it to your special needs there is also a possibility to do that with extendable webpack configuration for each theme.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"core-webpack-build"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core-webpack-build","aria-hidden":"true"}},[this._v("#")]),this._v(" Core webpack build")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("All build scripts used by core of the Vue Storefront are available in "),e("code",[this._v("core/build")]),this._v(" directory. If you want to improve our build or add support for new cases you will probably only need to change files there and sometimes update "),e("code",[this._v("package.json")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Base config for client and server is set up in "),e("code",[this._v("webpack.base.config.js")]),this._v(". This configuration is then merged with specific client and server configs in "),e("code",[this._v("webpack.client.config.js")]),this._v(" and "),e("code",[this._v("webpack.server.config.js")]),this._v(".")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("For development mode ("),s("code",[t._v("yarn dev")]),t._v(") "),s("code",[t._v("dev-server.js")]),t._v(" file is used to run previously mentioned config files ("),s("code",[t._v("webpack.client.config.js")]),t._v(", "),s("code",[t._v("webpack.server.config.js")]),t._v(") with custom config provided by the theme. We use "),s("code",[t._v("webpack-dev-middleware")]),t._v(" and "),s("code",[t._v("webpack-hot-middleware")]),t._v(" to make website development as fast and easy as possible.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In "),e("code",[this._v("vue-loader.config.js")]),this._v(" the whole configuration for "),e("code",[this._v("vue-loader")]),this._v(" is stored. If there is a need to change style processing for single file components, you can set it up in this file (if you want to extend the Vue Storefront core).")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("To build a production version of Vue Storefront "),e("code",[this._v("webpack.prod.client.config.js")]),this._v(" and "),e("code",[this._v("webpack.prod.server.config.js")]),this._v(" are used with a "),e("code",[this._v("build")]),this._v(" script. In these files our base configuration is merged with theme specific extended config.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"extending-core-build-in-themes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#extending-core-build-in-themes","aria-hidden":"true"}},[this._v("#")]),this._v(" Extending core build in themes")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example","aria-hidden":"true"}},[this._v("#")]),this._v(" Example")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Below is a simple example that adds "),e("code",[this._v("webpack-bundle-analyzer")]),this._v(" to check generated webpack bundles. In addition to analyzer "),e("code",[this._v("json5-loader")]),this._v(" is used to handle JSON5 files "),e("code",[this._v("json5-loader")]),this._v(" in project.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" BundleAnalyzerPlugin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'webpack-bundle-analyzer'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("BundleAnalyzerPlugin"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" isClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isDev "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" configLoaders"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isClient"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    configLoaders "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" config"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rules"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    config"),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("plugins"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("push")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("BundleAnalyzerPlugin")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        openAnalyzer"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        statsFilename"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'test'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        generateStatsFile"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        analyzerMode"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'static'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    configLoaders "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" config"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("module"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rules"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  configLoaders"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("push")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    test"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token regex"}},[t._v("/\\.json5$/")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    loader"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'json5-loader'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" config"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("This function is executed with 2 arguments. First one is the complete core Vue Storefront webpack configuration. Second is an object that has properties: "),e("code",[this._v("isClient")]),this._v(" and "),e("code",[this._v("isDev")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Option "),e("code",[this._v("isClient")]),this._v(" indicates that the configuration is for client bundle.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Option "),e("code",[this._v("isDev")]),this._v(" is set to "),e("code",[this._v("true")]),this._v(" if Vue Storefront runs in development mode.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("In case of client build ("),e("code",[this._v("isClient == true")]),this._v(") config argument is an array with 2 elements. First array element is the client configuration and the second one is used to generate a service worker file.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("For server build ("),e("code",[this._v("isClient == false")]),this._v(") config argument is an standard webpack configuration object.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("All loaders and plugins used in extended configuration will be fetched from theme "),e("code",[this._v("node_modules")]),this._v(" directory, so make sure you have it saved in theme "),e("code",[this._v("package.json")]),this._v(" file.")])}],!1,null,null,null);a.options.__file="webpack.md";e.default=a.exports}}]);